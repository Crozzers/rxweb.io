{"rightSidebarLinks":[{"id":"security","title":"Security","subLink":null},{"id":"security","title":"Security","subLink":[{"title":"Allow Specific Origin","id":"allowspecificorigin","thirdLevelLink":[]},{"title":"Ip Safelist","id":"ipsafelist","thirdLevelLink":[]}]},{"id":"configuration","title":"Configuration","subLink":[]},{"id":"handlingexception","title":"Handling Exception","subLink":[]},{"id":"securityheaders","title":"Security Headers","subLink":[]}],"title":"Security","description":"","validatorType":"decorators","validationTypeTitle":"Decorators","type":"simple","gitDocPath":"https://github.com/rxweb/rxweb.io/edit/master/docs/rx-web-core/fundamentals/security.md","category":"rxwebcore","subCategory":null,"linkTitle":"security","tabArray":{},"innerHtml":null,"htmlContent":"<div class='row page-section' id= 'security'>\r\n<div class='col-lg-12'>\r\n<h2>Security<a title='Link to this heading' class='link-header' href='/rxwebcore/security#security'><i class='fa fa-link'></i></a></h2>\r\n\r\n<p class='showHideElement' >This service includes major security aspects which are to be taken care while the start of the application like authorizing the token, validating access to limited IPs, adding security headers, allowed specific origins and handling exceptions and many more. The detailed description of them are described below..</p>\r\n</div></div>\r\n<div class='row page-section' id= 'allowspecificorigin'>\r\n<div class='col-lg-12'>\r\n<h2>Allow Specific Origin<a title='Link to this heading' class='link-header' href='/rxwebcore/security#allowspecificorigin'><i class='fa fa-link'></i></a></h2>\r\n\r\n<p class='showHideElement' >This principle works on not allowing to access the web APIs from any origin. It prevents the malicious site from reading confidential data from another site. The allowed hosts are to be configured in the <span class='highlighted'>appsettings.json</span>, You can add the allowed ports and origins in this configuration.</p>\r\n<div class='model-ts'><pre><code>\r\n \"AllowedHosts\": [ \"http://localhost:4200\" ]\r\n</code></pre></div>\r\n</div></div>\r\n<div class='row page-section' id= 'ipsafelist'>\r\n<div class='col-lg-12'>\r\n<h2>Ip Safelist<a title='Link to this heading' class='link-header' href='/rxwebcore/security#ipsafelist'><i class='fa fa-link'></i></a></h2>\r\n\r\n<p class='showHideElement' >IpSafelist means to create a list of trusted Ip addresses. It is used for validating access to limited and trusted IPs.</p>\r\n<p class='showHideElement' >You have to configure allowed Ips in \"AllowedIps\" key of <span class='highlighted'>appsettings.json</span> </p>\r\n</div></div>\r\n<div class='row page-section' id= 'configuration'>\r\n<div class='col-lg-12'>\r\n<h2>Configuration<a title='Link to this heading' class='link-header' href='/rxwebcore/security#configuration'><i class='fa fa-link'></i></a></h2>\r\n\r\n<div class='model-ts'><pre><code>\r\n    \"AllowedIps\": [\r\n    ]\r\n</code></pre></div>\r\n<p class='showHideElement' >In <span class='highlighted'>security.cs</span> file of the Bootstrap folder of the Api project, The SetIpSafeList method is called which is used to validate the list of IpAddressed which are set in the AllowedIps. </p>\r\n</div></div>\r\n<div class='row page-section' id= 'handlingexception'>\r\n<div class='col-lg-12'>\r\n<h2>Handling Exception<a title='Link to this heading' class='link-header' href='/rxwebcore/security#handlingexception'><i class='fa fa-link'></i></a></h2>\r\n\r\n<p class='showHideElement' >Handling exception helps you to keep trace of all the errors and exceptions while any exception occurs through the error object. you can set any instance of the exception handler feature and exception.</p>\r\n<div class='model-ts'><pre><code>\r\n    private static void HandleException(this IApplicationBuilder applicationBuilder)\r\n        {\r\n            applicationBuilder.UseExceptionHandler(errorApp =>\r\n            {\r\n                errorApp.Run(async context =>\r\n                {\r\n                    var errorFeature = context.Features.Get&ltIExceptionHandlerFeature&gt();\r\n                    var exception = errorFeature.Error;\r\n\t\t\t\t\tvar traceId = await exception.LogAsync(context);\r\n                    context.Response.ContentType = \"application/json;\";\r\n                    await context.Response.WriteAsync(\"Error Has Occured.\");\r\n                });\r\n            });\r\n        }\r\n</code></pre></div>\r\n</div></div>\r\n<div class='row page-section' id= 'securityheaders'>\r\n<div class='col-lg-12'>\r\n<h2>Security Headers<a title='Link to this heading' class='link-header' href='/rxwebcore/security#securityheaders'><i class='fa fa-link'></i></a></h2>\r\n\r\n<p class='showHideElement' >It sets the security headers to each context which are response headers which include xss-protection, cross domain policies, security policy etc.  </p>\r\n<div class='model-ts'><pre><code>\r\n private static void SetSecurityHeaders(this IApplicationBuilder applicationBuilder)\r\n        {\r\n            applicationBuilder.Use((context, next) =>\r\n            {\r\n                context.Response.Headers[\"X-XSS-Protection\"] = \"1; mode=block\";\r\n                context.Response.Headers[\"X-Frame-Options\"] = \"DENY\";\r\n                context.Response.Headers[\"X-Content-Type-Options\"] = \"NOSNIFF\";\r\n                context.Response.Headers[\"Strict-Transport-Security\"] = \"max-age=31536000\";\r\n                context.Response.Headers[\"X-Permitted-Cross-Domain-Policies\"] = \"master-only\";\r\n                context.Response.Headers[\"Content-Security-Policy\"] = \"default-src 'none'; style-src 'self'; img-src 'self'; font-src 'self'; script-src 'self'\";\r\n                return next();\r\n            });\r\n        }\r\n</code></pre></div>\r\n</div></div>\r\n"}