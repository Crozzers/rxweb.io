{"rightSidebarLinks":[{"id":"filters","title":"filters","subLink":null},{"id":"globalfilters","title":"Global Filters","subLink":[]},{"id":"scenario","title":"Scenario","subLink":[]},{"id":"onrequest","title":"OnRequest","subLink":[]},{"id":"onresponse","title":"OnResponse","subLink":[]},{"id":"servicebased","title":"Service Based","subLink":[]},{"id":"scenario","title":"Scenario","subLink":[]}],"title":"Filters","description":"","validatorType":"validators","validationTypeTitle":"Validators","type":"simple","gitDocPath":"https://github.com/rxweb/rxweb.io/edit/master/docs/typescript/http/filters.md","category":"http","subCategory":"","linkTitle":"filters","tabArray":{},"innerHtml":null,"htmlContent":"<p class='showHideElement' >Filters in rxweb http allows to run a specific code at specific stages in the request processing whenever any request is made. Here we will understand two stages at when we can excecute filters at global as well as component level. OnRequest and OnResponse filters allows you to perform some action during the request execution and on response during the server interaction life cycle.</p>\r\n<img src=assets/rxwebcore/Images/onrequest.png alt='OnRequest and OnResponse'>\r\n<div class='row page-section' id= 'globalfilters'>\r\n<div class='col-lg-12'>\r\n<h2>Global Filters<a title='Link to this heading' class='link-header' href='/http/filters#globalfilters'><i class='fa fa-link'></i></a></h2>\r\n\r\n</div></div>\r\n<div class='row page-section' id= 'scenario'>\r\n<div class='col-lg-12'>\r\n<h2>Scenario<a title='Link to this heading' class='link-header' href='/http/filters#scenario'><i class='fa fa-link'></i></a></h2>\r\n\r\n<p class='showHideElement' >As we are using token based authentication in the application, we need to add the authentication token along with the request identity key in the authorization header when we make a request to the server         </p>\r\n</div></div>\r\n<div class='row page-section' id= 'onrequest'>\r\n<div class='col-lg-12'>\r\n<h2>OnRequest<a title='Link to this heading' class='link-header' href='/http/filters#onrequest'><i class='fa fa-link'></i></a></h2>\r\n\r\n<p class='showHideElement' >In this OnRequest method adds authorization header to the request, this header will be passed from the auth token which is stored in the local storage   </p>\r\n<p class='showHideElement' >To Authorize the requests the context will be in need to add authorization headers before every request is made to the server    </p>\r\n<div component=\"app-code\" key=\"app-auth-filter\"></div>\r\n</div></div>\r\n<div class='row page-section' id= 'onresponse'>\r\n<div class='col-lg-12'>\r\n<h2>OnResponse<a title='Link to this heading' class='link-header' href='/http/filters#onresponse'><i class='fa fa-link'></i></a></h2>\r\n\r\n<p class='showHideElement' >The OnResponse method will be called once the response is fetched from the server, In this OnResponse method it stores the session data is stored in the local storage. This method will be further used to check whether to logOut whenever the session timeOut Takes place</p>\r\n<div component=\"app-code\" key=\"app-response-filter\"></div>\r\n<p class='showHideElement' >Add this Auth filter into the root app component to use it globally into the model parameter </p>\r\n<div component=\"app-code\" key=\"app-filters-model\"></div>\r\n<p class='showHideElement' >Below is the working example </p>\r\n<div class=\"stackbltiz-link\"> \r\n<a target=\"_blank\" class=\"redirect-link\" href=\"https://stackblitz.com/edit/angular-nkmcqc-frtjha?file=src%2Fapp%2Fbrowser-storage.ts\">Stackblitz</a>\r\n</div>\r\n</div></div>\r\n<div class='row page-section' id= 'servicebased'>\r\n<div class='col-lg-12'>\r\n<h2>Service Based<a title='Link to this heading' class='link-header' href='/http/filters#servicebased'><i class='fa fa-link'></i></a></h2>\r\n\r\n<p class='showHideElement' >If you want to set config object including any arguments or model to pass while making XHR calls (i.e. using XMLHttpRequest), you can do it with the help of <span class='highlighted'>@xhrFilter</span> decorator of <span class='highlighted'>RxHttp</span>.   </p>\r\n</div></div>\r\n<div class='row page-section' id= 'scenario'>\r\n<div class='col-lg-12'>\r\n<h2>Scenario<a title='Link to this heading' class='link-header' href='/http/filters#scenario'><i class='fa fa-link'></i></a></h2>\r\n\r\n<p class='showHideElement' >In the product controller there is a need to add an additional header which specifies that the content type should be application json. This will be done using <span class='highlighted'>@xhrFilter</span> decorator above the service class, the headers will be added in the onRequest method of the header filter class.</p>\r\n<p class='showHideElement' >The header filter class is as below:</p>\r\n<div component=\"app-code\" key=\"app-complete-component\"></div>\r\n<p class='showHideElement' >This will be registered in the product service class of the entity where the additional header will be added and this method will be specified in the model parameter as below </p>\r\n<div component=\"app-code\" key=\"app-complete-model\"></div>\r\n<p class='showHideElement' >The example is as below :</p>\r\n<div class=\"stackbltiz-link\"> \r\n<a target=\"_blank\" class=\"redirect-link\" href=\"https://stackblitz.com/edit/angular-nkmcqc-frtjha?file=src/app/product.service.ts\">Stackblitz</a>\r\n</div>\r\n</div></div>\r\n"}