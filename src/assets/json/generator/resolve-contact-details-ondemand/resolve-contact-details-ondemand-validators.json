{
    "component":"export class UserComponent implements OnInit {\r\n    userDetailsFormGroup: RxFormGroup\r\n    emailType: string = \"PrimaryEmail\";\r\n    constructor(private formBuilder: RxFormBuilder, private userService: UserService) { }\r\n  \r\n    ngOnInit() {\r\n      let user = new User();\r\n      user.address = new Address();\r\n      user.emailType = \"PrimaryEmail\";\r\n      user.email = new Array<PrimaryEmail>();\r\n      user.email = new Array<RecoveryEmail>();\r\n      this.userDetailsFormGroup = <RxFormGroup>this.formBuilder.formGroup(user);\r\n    }\r\n  \r\n    addPrimaryEmail() {\r\n      let primaryEmail = this.userDetailsFormGroup.controls.email as FormArray;\r\n      primaryEmail.push(this.formBuilder.formGroup(PrimaryEmail));\r\n    }\r\n  \r\n    addRecoveryEmail() {\r\n      let recoveryEmail = this.userDetailsFormGroup.controls.email as FormArray;\r\n      recoveryEmail.push(this.formBuilder.formGroup(RecoveryEmail));\r\n    }\r\n    changeValue(value: string) {\r\n      this.userDetailsFormGroup.reset();\r\n      let user = new User();\r\n      this.userDetailsFormGroup.controls.emailType.setValue(value);\r\n      user.emailType = value;\r\n      this.emailType = value;\r\n  \r\n      if (this.userDetailsFormGroup.controls.emailType.value == \"PrimaryEmail\") {\r\n        user.email = new Array<PrimaryEmail>();\r\n        let primaryEmail = new PrimaryEmail();\r\n        user.email.push(primaryEmail);\r\n        this.userDetailsFormGroup = <RxFormGroup>this.formBuilder.formGroup(user);\r\n      }\r\n      else {\r\n        user.email = new Array<RecoveryEmail>();\r\n        let recoveryEmail = new RecoveryEmail();\r\n        user.email.push(recoveryEmail);\r\n        this.userDetailsFormGroup = <RxFormGroup>this.formBuilder.formGroup(user);\r\n      }\r\n    }\r\n}",
    "model":"export class PrimaryEmail {\r\n  @prop()\r\n  primaryEmail: string;\r\n}\r\n\r\nexport class RecoveryEmail {\r\n  @prop()\r\n  recoveryEmail: string;\r\n}\r\n\r\n\r\nexport class User{\r\n\r\n  @prop()\r\n  emailType: string;\r\n\r\n  @propArray(undefined, {\r\n    createBlank: true,\r\n    entityProvider: function() {\r\n      return this.emailType == \"PrimaryEmail\" ? PrimaryEmail : RecoveryEmail;\r\n    }\r\n  })\r\n  email: PrimaryEmail[] | RecoveryEmail[];\r\n}"
}